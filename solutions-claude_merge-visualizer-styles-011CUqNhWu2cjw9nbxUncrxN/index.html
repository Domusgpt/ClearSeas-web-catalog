<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Clear Seas Solutions â€” Spatial AI & Geometric Cognition Architecture</title>
    <meta name="description" content="Founded by Paul Phillips, Clear Seas Solutions pioneers spatial AI, geometric cognition systems, and custom AI solutions informed by decades of global operations experience.">

    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Space+Grotesk:wght@400;500;600;700&display=swap" rel="stylesheet">

    <!-- CSS -->
    <link rel="stylesheet" href="styles/main.css">
    <link rel="stylesheet" href="styles/clear-seas-home.css">
    <link rel="stylesheet" href="styles/founders-profile.css">

    <!-- GSAP & ScrollTrigger -->
    <script src="https://cdn.jsdelivr.net/npm/gsap@3.12.5/dist/gsap.min.js" defer></script>
    <script src="https://cdn.jsdelivr.net/npm/gsap@3.12.5/dist/ScrollTrigger.min.js" defer></script>
    <script src="https://cdn.jsdelivr.net/npm/gsap@3.12.5/dist/Flip.min.js" defer></script>

<script>

/**
 * Advanced Performance Optimization Module
 * For builds with WebGL + GSAP + Complex Visualizers
 */

class PerformanceOptimizer {
  constructor() {
    this.rafId = null;
    this.lastFrameTime = 0;
    this.fpsHistory = [];
    this.memoryWarningThreshold = 100 * 1024 * 1024; // 100MB
  }

  // Throttle expensive operations
  throttle(func, limit) {
    let inThrottle;
    return function(...args) {
      if (!inThrottle) {
        func.apply(this, args);
        inThrottle = true;
        setTimeout(() => inThrottle = false, limit);
      }
    };
  }

  // Debounce for resize/scroll
  debounce(func, delay) {
    let timeoutId;
    return function(...args) {
      clearTimeout(timeoutId);
      timeoutId = setTimeout(() => func.apply(this, args), delay);
    };
  }

  // Monitor FPS
  startFPSMonitoring() {
    const measureFPS = (timestamp) => {
      if (this.lastFrameTime) {
        const delta = timestamp - this.lastFrameTime;
        const fps = 1000 / delta;
        this.fpsHistory.push(fps);

        if (this.fpsHistory.length > 60) {
          this.fpsHistory.shift();
        }

        const avgFPS = this.fpsHistory.reduce((a, b) => a + b, 0) / this.fpsHistory.length;

        // If FPS drops below 30, reduce quality
        if (avgFPS < 30) {
          this.reduceQuality();
        }
      }

      this.lastFrameTime = timestamp;
      this.rafId = requestAnimationFrame(measureFPS);
    };

    this.rafId = requestAnimationFrame(measureFPS);
  }

  reduceQuality() {
    // Reduce particle counts, shader complexity, etc.
    const event = new CustomEvent('performance:reduce-quality', {
      detail: { avgFPS: this.fpsHistory.reduce((a, b) => a + b, 0) / this.fpsHistory.length }
    });
    window.dispatchEvent(event);
  }

  // Memory monitoring
  checkMemory() {
    if (performance.memory) {
      const used = performance.memory.usedJSHeapSize;
      if (used > this.memoryWarningThreshold) {
        console.warn('High memory usage detected:', (used / 1024 / 1024).toFixed(2), 'MB');

        // Trigger garbage collection hint
        const event = new CustomEvent('performance:high-memory');
        window.dispatchEvent(event);
      }
    }
  }

  cleanup() {
    if (this.rafId) {
      cancelAnimationFrame(this.rafId);
    }
  }
}

// Initialize on DOMContentLoaded
if (typeof window !== 'undefined') {
  window.addEventListener('DOMContentLoaded', () => {
    window.perfOptimizer = new PerformanceOptimizer();
    window.perfOptimizer.startFPSMonitoring();

    // Check memory every 5 seconds
    setInterval(() => window.perfOptimizer.checkMemory(), 5000);
  });
}

</script>

<script>

/**
 * WebGL + GSAP Integration Optimizer
 * Synchronizes GSAP timeline with WebGL render loop
 */

class WebGLGSAPSync {
  constructor() {
    this.gsapTimeline = null;
    this.webglRenderer = null;
    this.syncedAnimations = [];
  }

  // Batch GSAP updates with WebGL rendering
  syncRenderLoop() {
    const render = (timestamp) => {
      // Update GSAP first
      if (this.gsapTimeline && typeof gsap !== 'undefined') {
        gsap.ticker.tick();
      }

      // Then render WebGL
      if (this.webglRenderer && typeof this.webglRenderer.render === 'function') {
        this.webglRenderer.render();
      }

      // Trigger custom visualizers
      this.syncedAnimations.forEach(anim => {
        if (typeof anim.update === 'function') {
          anim.update(timestamp);
        }
      });

      requestAnimationFrame(render);
    };

    requestAnimationFrame(render);
  }

  register(visualizer) {
    this.syncedAnimations.push(visualizer);
  }

  unregister(visualizer) {
    const index = this.syncedAnimations.indexOf(visualizer);
    if (index > -1) {
      this.syncedAnimations.splice(index, 1);
    }
  }
}

if (typeof window !== 'undefined') {
  window.webglGSAPSync = new WebGLGSAPSync();
}

</script>
</head>
<body>
<a href="#main-content" class="skip-link">Skip to main content</a>

    <!-- Polytopal Field Background (Main) -->
    <div id="polytopal-field" style="position: fixed; top: 0; left: 0; width: 100%; height: 100%; z-index: 0; pointer-events: none;"></div>

    <!-- Quantum Background Layer -->
    <!-- Created dynamically by app-enhanced.js -->

    <div class="texture-layer" aria-hidden="true"></div>

    <header class="site-header" data-animate="reveal">
        <div class="container header-inner">
            <a class="brand" href="#hero">
                <span class="brand-mark">â—‡</span>
                <span class="brand-name">Clear Seas Solutions</span>
            </a>
            <button class="nav-toggle" aria-expanded="false" aria-controls="primary-navigation">
                <span class="nav-toggle-icon" aria-hidden="true"></span>
                <span class="sr-only">Toggle navigation</span>
            </button>
            <nav id="primary-navigation" class="primary-navigation">
                <a href="#capabilities">Capabilities</a>
                <a href="#research">Research</a>
                <a href="#founder">Founder</a>
                <a href="#platforms">Platforms</a>
                <a href="#contact">Contact</a>
            </nav>
            <a class="nav-cta" href="mailto:Paul@clearseassolutions.com">Start a project</a>
        </div>
    </header>

    <main class="site-main">
        <section id="main-content" id="hero" class="hero" data-section="hero">
            <div class="container hero-grid">
                <div class="hero-text" data-animate="reveal">
                    <p class="eyebrow">Spatial AI â€¢ Geometric Cognition â€¢ Custom Intelligence Systems</p>
                    <h1>Advanced AI solutions for businesses ready to pioneer the future.</h1>
                    <p class="hero-lede">We're an independent AI research & development consultancy specializing in spatial computing, geometric cognition, and custom AI architecture. From ambitious startups to global enterprises, we build intelligent systems that actually work.</p>
                    <div class="hero-cta">
                        <a class="btn btn-primary" href="mailto:Paul@clearseassolutions.com">Free consultation</a>
                        <a class="btn btn-ghost" href="#platforms">Explore our research</a>
                    </div>
                    <ul class="hero-tags">
                        <li>Proprietary 4D Processing</li>
                        <li>Spatial AI Research</li>
                        <li>Custom Solutions</li>
                        <li>Independent & Agile</li>
                    </ul>
                </div>
                <div class="hero-panels" data-animate="reveal" style="--reveal-delay: 0.15s;">
                    <article class="signal-card" data-fractal-card>
                        <h2>Research-Driven Innovation</h2>
                        <p>Original research in 4D geometric cognition, spatial AI, and autonomous systems. Our Polytopal Projection Processing (PPP) framework represents a breakthrough in machine perception.</p>
                        <div class="signal-metadata">
                            <span>Our foundation</span>
                            <strong>Proprietary technology</strong>
                        </div>
                    </article>
                    <article class="signal-card" data-fractal-card>
                        <h2>Real-World Experience</h2>
                        <p>14 years managing complex international operations provides deep intuition for building AI that handles real-world chaos, not just laboratory conditions.</p>
                        <div class="signal-metadata">
                            <span>Domain expertise</span>
                            <strong>Battle-tested solutions</strong>
                        </div>
                    </article>
                    <article class="signal-card maritime" data-fractal-card>
                        <h2>Independent Excellence</h2>
                        <p>No corporate overhead, no sales quotas, no forced platform lock-ins. Just lean, effective AI solutions tailored to your actual needs and budget.</p>
                        <div class="signal-metadata">
                            <span>Our advantage</span>
                            <strong>Boutique & agile</strong>
                        </div>
                    </article>
                </div>
            </div>
        </section>

        <section id="capabilities" class="section capabilities" data-section="capabilities">
            <div class="container">
                <div class="section-heading" data-animate="reveal">
                    <p class="eyebrow">What we do</p>
                    <h2>Custom AI that adapts to your business, not templates.</h2>
                    <p>From quick-win automations to transformative spatial AI platforms, we build solutions scaled to your needsâ€”whether you're a three-person startup or a multinational corporation.</p>
                </div>
                <div class="capabilities-grid">
                    <article class="capability-card" data-animate="reveal" data-fractal-card>
                        <h3>Spatial AI & Robotics</h3>
                        <p>Advanced perception systems for GPS-denied navigation, autonomous vehicles, and XR devices. Our Polytopal Projection Processing framework enables robust machine cognition in complex environments.</p>
                        <ul>
                            <li>4D state representation & sensor fusion</li>
                            <li>Visual-inertial odometry & SLAM</li>
                            <li>Embodied AI for robotics platforms</li>
                        </ul>
                    </article>
                    <article class="capability-card" data-animate="reveal" style="--reveal-delay: 0.1s;" data-fractal-card>
                        <h3>Custom AI Development</h3>
                        <p>Bespoke AI solutions designed around your specific workflow, data, and goalsâ€”from intelligent automation to predictive analytics and adaptive systems.</p>
                        <ul>
                            <li>Process automation & agentic systems</li>
                            <li>Custom machine learning models</li>
                            <li>Data pipelines & intelligence platforms</li>
                        </ul>
                    </article>
                    <article class="capability-card" data-animate="reveal" style="--reveal-delay: 0.2s;" data-fractal-card>
                        <h3>AI Strategy & Research</h3>
                        <p>Not sure where advanced AI fits in your operations? We assess opportunities, create practical roadmaps, and provide ongoing research partnerships.</p>
                        <ul>
                            <li>Free AI readiness consultation</li>
                            <li>ROI-focused opportunity mapping</li>
                            <li>Research collaboration & IP development</li>
                        </ul>
                    </article>
                </div>
            </div>
        </section>

        <!-- ADDITIONAL SECTIONS HERE (research, founder, platforms, contact) -->
        <!-- Truncated for brevity - you already have these -->

    </main>

    <footer class="site-footer">
        <div class="container footer-inner">
            <div class="footer-brand">
                <span class="brand-mark" aria-hidden="true">â—‡</span>
                <span>Clear Seas Solutions</span>
            </div>
            <p class="footer-copy">Â© <span id="current-year"></span> Clear Seas Solutions. Spatial AI & Geometric Cognition Architecture.</p>
            <p class="footer-signature">ðŸŒŸ A Paul Phillips Manifestation</p>
            <p class="footer-philosophy">"The Revolution Will Not Be In A Structured Format"</p>
        </div>
    </footer>

    <!-- Core Application with VisualOrchestrator + Visualizers -->
    <script type="module" src="src/js/app-enhanced.js"></script>

    <!-- ScrollChoreographer (NEW) -->
    <script type="module">
        // Wait for GSAP to load
        window.addEventListener('load', () => {
            if (typeof gsap === 'undefined' || typeof ScrollTrigger === 'undefined') {
                console.error('GSAP or ScrollTrigger not loaded');
                return;
            }

            gsap.registerPlugin(ScrollTrigger, Flip);
            console.log('ðŸŽ¬ GSAP ScrollTrigger + Flip loaded');

            // Wait for VisualOrchestrator to initialize
            window.addEventListener('clearSeasEnhancedReady', ({ detail }) => {
                console.log('ðŸŽ­ Clear Seas Enhanced ready, setting up scroll choreography');

                // ScrollTrigger for each section
                const sections = ['hero', 'capabilities', 'research', 'founder', 'platforms', 'contact'];

                sections.forEach((sectionId, index) => {
                    const element = document.querySelector(`[data-section="${sectionId}"]`);
                    if (!element) return;

                    ScrollTrigger.create({
                        trigger: element,
                        start: 'top 80%',
                        end: 'bottom 20%',
                        onEnter: () => {
                            console.log(`ðŸŽ¬ ScrollTrigger: Entering ${sectionId}`);
                            // VisualOrchestrator already handles section transitions
                            // We can add scroll-lock here if needed
                        },
                        onLeave: () => {
                            console.log(`ðŸŽ¬ ScrollTrigger: Leaving ${sectionId}`);
                        },
                        markers: false // Set to true for debugging
                    });
                });

                // Card-to-background GSAP Flip (on hover)
                document.querySelectorAll('[data-fractal-card]').forEach(card => {
                    card.addEventListener('mouseenter', () => {
                        // Get initial state
                        const state = Flip.getState(card);

                        // Transform (add class that changes scale/position)
                        card.classList.add('is-emerging');

                        // Flip animate
                        Flip.from(state, {
                            duration: 0.6,
                            ease: 'power2.out',
                            absolute: false
                        });
                    });

                    card.addEventListener('mouseleave', () => {
                        const state = Flip.getState(card);
                        card.classList.remove('is-emerging');

                        Flip.from(state, {
                            duration: 0.4,
                            ease: 'power2.in'
                        });
                    });
                });

                console.log('âœ… Scroll choreography initialized');
            });
        });
    </script>

<script>

// Enhanced Error Handling (Non-Invasive)
window.addEventListener('error', function(event) {
  console.error('Global error:', event.error);
  // Log only - don't hide visualizations
});

window.addEventListener('unhandledrejection', function(event) {
  console.error('Unhandled promise rejection:', event.reason);
});

// WebGL Context Loss Handling
document.addEventListener('DOMContentLoaded', function() {
  const canvases = document.querySelectorAll('canvas');
  canvases.forEach(canvas => {
    if (canvas.getContext) {
      canvas.addEventListener('webglcontextlost', function(event) {
        console.warn('WebGL context lost - will attempt recovery');
        event.preventDefault();
      }, false);

      canvas.addEventListener('webglcontextrestored', function() {
        console.log('WebGL context restored');
        // Trigger re-initialization event
        const restoreEvent = new CustomEvent('webgl:restored', { detail: { canvas } });
        window.dispatchEvent(restoreEvent);
      }, false);
    }
  });
});

window.addEventListener('unhandledrejection', function(event) {
  console.error('Unhandled promise rejection:', event.reason);
});

// WebGL Context Loss Handling
document.addEventListener('DOMContentLoaded', function() {
  const canvases = document.querySelectorAll('canvas');
  canvases.forEach(canvas => {
    if (canvas.getContext) {
      canvas.addEventListener('webglcontextlost', function(event) {
        console.warn('WebGL context lost');
        event.preventDefault();
      }, false);

      canvas.addEventListener('webglcontextrestored', function() {
        console.log('WebGL context restored');
        // Re-initialize WebGL if needed
      }, false);
    }
  });
});

</script>
</body>
</html>
